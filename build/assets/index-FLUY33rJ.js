import{r as i,b as y,c as h,j as e,d as b}from"./index-BZ6FMMt2.js";import{c as j,s as N}from"./balanceCalculations-BwgctEfh.js";const f=(r,a)=>{const[d,l]=i.useState(r);return i.useEffect(()=>{const o=setTimeout(()=>{l(r)},a);return()=>{clearTimeout(o)}},[r,a]),d},v=()=>{var p;const r=y(),{initialBalance:a}=h(s=>s.app),{events:d}=h(s=>s.events),[l,o]=i.useState(""),[c,g]=i.useState(0),x=f(l,300),u=()=>{if(c>0){const s=a+c;r(b(s)),g(0)}},t=j(d,a),m=N(t,x);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 min-w-[120px]",children:"Balance Inicial Actual:"}),e.jsxs("div",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-gray-800 dark:text-gray-200 font-semibold",children:["$",a.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"additional-money",className:"text-lg font-medium text-gray-700 dark:text-gray-300 min-w-[120px]",children:"Agregar dinero:"}),e.jsx("input",{id:"additional-money",type:"number",min:"0",step:"0.01",value:c,onChange:s=>g(parseFloat(s.target.value)||0),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white",placeholder:"0.00"}),e.jsx("button",{onClick:u,disabled:c<=0,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Calcular"})]}),t.length>0&&e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-md border border-green-200 dark:border-green-800",children:[e.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Balance Global Final:"}),e.jsxs("span",{className:"text-lg font-bold text-green-800 dark:text-green-200",children:["$",((p=t[t.length-1])==null?void 0:p.globalBalance.toFixed(2))||"0.00"]})]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:["You have ",d.length," events in ",t.length," months"]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:e.jsx("input",{type:"text",value:l,onChange:s=>o(s.target.value),placeholder:"Buscar mes (ej: Diciembre 2024, Diciembre, etc.)",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.map(s=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:s.month}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Ingresos:"}),e.jsxs("span",{className:"text-green-600 font-semibold",children:["+$",s.totalIncome.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Gastos:"}),e.jsxs("span",{className:"text-red-600 font-semibold",children:["-$",s.totalExpenses.toFixed(2)]})]}),e.jsx("hr",{className:"border-gray-300 dark:border-gray-600"}),e.jsxs("div",{className:"flex justify-between items-center font-bold",children:[e.jsx("span",{className:"text-gray-800 dark:text-white",children:"Balance Global:"}),e.jsxs("span",{className:`${s.globalBalance>=0?"text-green-600":"text-red-600"}`,children:["$",s.globalBalance.toFixed(2)]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Eventos (",s.events.length,"):"]}),s.events.length>0?e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:s.events.map(n=>e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 flex justify-between items-center p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"truncate flex-1 mr-2",children:n.name}),e.jsxs("span",{className:`font-medium ${n.type==="ingreso"?"text-green-600":"text-red-600"}`,children:[n.type==="ingreso"?"+":"-","$",n.amount.toFixed(2)]})]},n.id))}):e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"No hay eventos en este mes"})]})]})]},s.month))}),m.length===0&&x&&e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:['No se encontraron meses que coincidan con "',x,'"']})}),t.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No hay eventos registrados. Â¡Crea tu primer evento!"})})]})},F=()=>e.jsx(v,{});export{F as component};
